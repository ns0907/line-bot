<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="utf-8">
  <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>

  <title>ajax</title>

  <style>
    select {
      margin-bottom: 10px;
    }
  </style>
</head>

<body>

  <select id="sel">
    <option> --場所を選ぶ-- </option>
    <option value="kyoto">京都</option>
    <option value="osaka">大阪</option>
    <option value="kobe">神戸</option>
  </select>
  <div id="mes">集合場所は<span id="pos"><!-- ここに集合場所が入る --></span>、集合時刻は<span id="time"><!-- ここに集合時刻が入る --></span>となります。</div>


  <script>
    let optval;
    $(function () {
      $('#sel').on("change", function () {
        optval = $(this).val(); //選択したメニューの値
        $.post({
          url: 'api/ajax/post',
          data: {
            'opt': optval
          },
          dataType: 'json', //必須。json形式で返すように設定
        }).done(function (data) {
          //連想配列のプロパティがそのままjsonオブジェクトのプロパティとなっている
          $("#pos").text(data.position); //取得した集合場所の値を、html上のID値がposの箇所に代入。
          $("#time").text(data.ap_time); //取得した集合時刻の値を、html上のID値がtimeの箇所に代入。
        }).fail(function (XMLHttpRequest, textStatus, errorThrown) {
          alert(errorThrown);
        })
      })
    })
  </script>

</body>

</html>